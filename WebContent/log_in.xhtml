<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:h="http://java.sun.com/jsf/html"
 xmlns:f="http://java.sun.com/jsf/core"
 xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Insert title here</title>
<h:outputStylesheet library="css" name="register.css" target="body"></h:outputStylesheet>
</h:head>
<h:body>
	<ui:composition template="/resources/template/layout.xhtml">
		<ui:define name="content">
			<f:view>
				<h:form>
					<h:panelGroup>
						<h:panelGrid id="panelFields" columns="3" cellpadding="0" cellspacing="2">

							 
							
							<h:outputText value="Email :" />
							<h:inputText id="email" value="#{userbean.email}" 
										size="50" required="true" requiredMessage="L'email est obligatoire !"
										validatorMessage="L'email doit respecter le format suivant : xxxx">
								<f:validateLength minimum="8" maximum="50"></f:validateLength>
							</h:inputText>
							<h:message for="email" style="color:red"/>
							
							<h:outputText value="Mot de passe :" />
							<h:inputSecret id="password" value="#{userbean.password}" 
										size="20" required="true" requiredMessage="Le mot de passe est obligatoire !"
										validatorMessage="Le mot de passe doit respecter le format suivant : xxxx">
								<f:validateLength minimum="2" maximum="20"></f:validateLength>
							</h:inputSecret>
							<h:message for="password" style="color:red"/>
							

							<h:selectOneRadio id="auth" value = "#{userbean.authentification}"> 
   							<f:selectItem itemValue = "v" itemLabel = "Je ne suis pas un robot " /> 
							</h:selectOneRadio>
							<h:message for="authentification" style="color:red"/>
							
							
						</h:panelGrid>
					</h:panelGroup>
					
					<h:panelGroup>
						<h:panelGrid id="panelButtons" columns="2" cellpadding="0" cellspacing="2">
							<h:commandButton id="btnCreerCompte" action="#{userbean.verifyUser()}" value="Valider" />
							<h:button id="btnRetour" outcome="index" value="Retour"></h:button>
						</h:panelGrid>
					</h:panelGroup>
					
					<h:outputText value="#{userbean.errorMessage}" style="color:red" />
					<h:outputText value="#{userbean.successMessage}" style="color:green" />
					
				</h:form>
			</f:view>
		</ui:define>
	</ui:composition>
</h:body>
</html>